!function(n,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("GetSheetDone",[],t):"object"==typeof exports?exports.GetSheetDone=t():n.GetSheetDone=t()}(this,function(){return function(n){function t(e){if(B[e])return B[e].exports;var c=B[e]={i:e,l:!1,exports:{}};return n[e].call(c.exports,c,c.exports,t),c.l=!0,c.exports}var B={};return t.m=n,t.c=B,t.i=function(n){return n},t.d=function(n,B,e){t.o(n,B)||Object.defineProperty(n,B,{configurable:!1,enumerable:!0,get:e})},t.n=function(n){var B=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(B,"a",B),B},t.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},t.p="/example",t(t.s=1)}([function(module,exports,__webpack_require__){eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (global, factory) {\n  if (true) {\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports, module], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else if (typeof exports !== 'undefined' && typeof module !== 'undefined') {\n    factory(exports, module);\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports, mod);\n    global.fetchJsonp = mod.exports;\n  }\n})(this, function (exports, module) {\n  'use strict';\n\n  var defaultOptions = {\n    timeout: 5000,\n    jsonpCallback: 'callback',\n    jsonpCallbackFunction: null\n  };\n\n  function generateCallbackFunction() {\n    return 'jsonp_' + Date.now() + '_' + Math.ceil(Math.random() * 100000);\n  }\n\n  function clearFunction(functionName) {\n    // IE8 throws an exception when you try to delete a property on window\n    // http://stackoverflow.com/a/1824228/751089\n    try {\n      delete window[functionName];\n    } catch (e) {\n      window[functionName] = undefined;\n    }\n  }\n\n  function removeScript(scriptId) {\n    var script = document.getElementById(scriptId);\n    if (script) {\n      document.getElementsByTagName('head')[0].removeChild(script);\n    }\n  }\n\n  function fetchJsonp(_url) {\n    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n    // to avoid param reassign\n    var url = _url;\n    var timeout = options.timeout || defaultOptions.timeout;\n    var jsonpCallback = options.jsonpCallback || defaultOptions.jsonpCallback;\n\n    var timeoutId = undefined;\n\n    return new Promise(function (resolve, reject) {\n      var callbackFunction = options.jsonpCallbackFunction || generateCallbackFunction();\n      var scriptId = jsonpCallback + '_' + callbackFunction;\n\n      window[callbackFunction] = function (response) {\n        resolve({\n          ok: true,\n          // keep consistent with fetch API\n          json: function json() {\n            return Promise.resolve(response);\n          }\n        });\n\n        if (timeoutId) clearTimeout(timeoutId);\n\n        removeScript(scriptId);\n\n        clearFunction(callbackFunction);\n      };\n\n      // Check if the user set their own params, and if not add a ? to start a list of params\n      url += url.indexOf('?') === -1 ? '?' : '&';\n\n      var jsonpScript = document.createElement('script');\n      jsonpScript.setAttribute('src', '' + url + jsonpCallback + '=' + callbackFunction);\n      if (options.charset) {\n        jsonpScript.setAttribute('charset', options.charset);\n      }\n      jsonpScript.id = scriptId;\n      document.getElementsByTagName('head')[0].appendChild(jsonpScript);\n\n      timeoutId = setTimeout(function () {\n        reject(new Error('JSONP request to ' + _url + ' timed out'));\n\n        clearFunction(callbackFunction);\n        removeScript(scriptId);\n      }, timeout);\n\n      // Caught if got 404/500\n      jsonpScript.onerror = function () {\n        reject(new Error('JSONP request to ' + _url + ' failed'));\n\n        clearFunction(callbackFunction);\n        removeScript(scriptId);\n        if (timeoutId) clearTimeout(timeoutId);\n      };\n    });\n  }\n\n  // export as global function\n  /*\n  let local;\n  if (typeof global !== 'undefined') {\n    local = global;\n  } else if (typeof self !== 'undefined') {\n    local = self;\n  } else {\n    try {\n      local = Function('return this')();\n    } catch (e) {\n      throw new Error('polyfill failed because global object is unavailable in this environment');\n    }\n  }\n  local.fetchJsonp = fetchJsonp;\n  */\n\n  module.exports = fetchJsonp;\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2ZldGNoLWpzb25wL2J1aWxkL2ZldGNoLWpzb25wLmpzPzQ3MDYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwwRUFBMEU7O0FBRTFFO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsQ0FBQyIsImZpbGUiOiIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIGRlZmluZShbJ2V4cG9ydHMnLCAnbW9kdWxlJ10sIGZhY3RvcnkpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJykge1xuICAgIGZhY3RvcnkoZXhwb3J0cywgbW9kdWxlKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgbW9kID0ge1xuICAgICAgZXhwb3J0czoge31cbiAgICB9O1xuICAgIGZhY3RvcnkobW9kLmV4cG9ydHMsIG1vZCk7XG4gICAgZ2xvYmFsLmZldGNoSnNvbnAgPSBtb2QuZXhwb3J0cztcbiAgfVxufSkodGhpcywgZnVuY3Rpb24gKGV4cG9ydHMsIG1vZHVsZSkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGRlZmF1bHRPcHRpb25zID0ge1xuICAgIHRpbWVvdXQ6IDUwMDAsXG4gICAganNvbnBDYWxsYmFjazogJ2NhbGxiYWNrJyxcbiAgICBqc29ucENhbGxiYWNrRnVuY3Rpb246IG51bGxcbiAgfTtcblxuICBmdW5jdGlvbiBnZW5lcmF0ZUNhbGxiYWNrRnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICdqc29ucF8nICsgRGF0ZS5ub3coKSArICdfJyArIE1hdGguY2VpbChNYXRoLnJhbmRvbSgpICogMTAwMDAwKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsZWFyRnVuY3Rpb24oZnVuY3Rpb25OYW1lKSB7XG4gICAgLy8gSUU4IHRocm93cyBhbiBleGNlcHRpb24gd2hlbiB5b3UgdHJ5IHRvIGRlbGV0ZSBhIHByb3BlcnR5IG9uIHdpbmRvd1xuICAgIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzE4MjQyMjgvNzUxMDg5XG4gICAgdHJ5IHtcbiAgICAgIGRlbGV0ZSB3aW5kb3dbZnVuY3Rpb25OYW1lXTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB3aW5kb3dbZnVuY3Rpb25OYW1lXSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmVTY3JpcHQoc2NyaXB0SWQpIHtcbiAgICB2YXIgc2NyaXB0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc2NyaXB0SWQpO1xuICAgIGlmIChzY3JpcHQpIHtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF0ucmVtb3ZlQ2hpbGQoc2NyaXB0KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBmZXRjaEpzb25wKF91cmwpIHtcbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzFdO1xuXG4gICAgLy8gdG8gYXZvaWQgcGFyYW0gcmVhc3NpZ25cbiAgICB2YXIgdXJsID0gX3VybDtcbiAgICB2YXIgdGltZW91dCA9IG9wdGlvbnMudGltZW91dCB8fCBkZWZhdWx0T3B0aW9ucy50aW1lb3V0O1xuICAgIHZhciBqc29ucENhbGxiYWNrID0gb3B0aW9ucy5qc29ucENhbGxiYWNrIHx8IGRlZmF1bHRPcHRpb25zLmpzb25wQ2FsbGJhY2s7XG5cbiAgICB2YXIgdGltZW91dElkID0gdW5kZWZpbmVkO1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciBjYWxsYmFja0Z1bmN0aW9uID0gb3B0aW9ucy5qc29ucENhbGxiYWNrRnVuY3Rpb24gfHwgZ2VuZXJhdGVDYWxsYmFja0Z1bmN0aW9uKCk7XG4gICAgICB2YXIgc2NyaXB0SWQgPSBqc29ucENhbGxiYWNrICsgJ18nICsgY2FsbGJhY2tGdW5jdGlvbjtcblxuICAgICAgd2luZG93W2NhbGxiYWNrRnVuY3Rpb25dID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIHJlc29sdmUoe1xuICAgICAgICAgIG9rOiB0cnVlLFxuICAgICAgICAgIC8vIGtlZXAgY29uc2lzdGVudCB3aXRoIGZldGNoIEFQSVxuICAgICAgICAgIGpzb246IGZ1bmN0aW9uIGpzb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlc3BvbnNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh0aW1lb3V0SWQpIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuXG4gICAgICAgIHJlbW92ZVNjcmlwdChzY3JpcHRJZCk7XG5cbiAgICAgICAgY2xlYXJGdW5jdGlvbihjYWxsYmFja0Z1bmN0aW9uKTtcbiAgICAgIH07XG5cbiAgICAgIC8vIENoZWNrIGlmIHRoZSB1c2VyIHNldCB0aGVpciBvd24gcGFyYW1zLCBhbmQgaWYgbm90IGFkZCBhID8gdG8gc3RhcnQgYSBsaXN0IG9mIHBhcmFtc1xuICAgICAgdXJsICs9IHVybC5pbmRleE9mKCc/JykgPT09IC0xID8gJz8nIDogJyYnO1xuXG4gICAgICB2YXIganNvbnBTY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgICAgIGpzb25wU2NyaXB0LnNldEF0dHJpYnV0ZSgnc3JjJywgJycgKyB1cmwgKyBqc29ucENhbGxiYWNrICsgJz0nICsgY2FsbGJhY2tGdW5jdGlvbik7XG4gICAgICBpZiAob3B0aW9ucy5jaGFyc2V0KSB7XG4gICAgICAgIGpzb25wU2NyaXB0LnNldEF0dHJpYnV0ZSgnY2hhcnNldCcsIG9wdGlvbnMuY2hhcnNldCk7XG4gICAgICB9XG4gICAgICBqc29ucFNjcmlwdC5pZCA9IHNjcmlwdElkO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXS5hcHBlbmRDaGlsZChqc29ucFNjcmlwdCk7XG5cbiAgICAgIHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICByZWplY3QobmV3IEVycm9yKCdKU09OUCByZXF1ZXN0IHRvICcgKyBfdXJsICsgJyB0aW1lZCBvdXQnKSk7XG5cbiAgICAgICAgY2xlYXJGdW5jdGlvbihjYWxsYmFja0Z1bmN0aW9uKTtcbiAgICAgICAgcmVtb3ZlU2NyaXB0KHNjcmlwdElkKTtcbiAgICAgIH0sIHRpbWVvdXQpO1xuXG4gICAgICAvLyBDYXVnaHQgaWYgZ290IDQwNC81MDBcbiAgICAgIGpzb25wU2NyaXB0Lm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ0pTT05QIHJlcXVlc3QgdG8gJyArIF91cmwgKyAnIGZhaWxlZCcpKTtcblxuICAgICAgICBjbGVhckZ1bmN0aW9uKGNhbGxiYWNrRnVuY3Rpb24pO1xuICAgICAgICByZW1vdmVTY3JpcHQoc2NyaXB0SWQpO1xuICAgICAgICBpZiAodGltZW91dElkKSBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICAvLyBleHBvcnQgYXMgZ2xvYmFsIGZ1bmN0aW9uXG4gIC8qXG4gIGxldCBsb2NhbDtcbiAgaWYgKHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgbG9jYWwgPSBnbG9iYWw7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgbG9jYWwgPSBzZWxmO1xuICB9IGVsc2Uge1xuICAgIHRyeSB7XG4gICAgICBsb2NhbCA9IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdwb2x5ZmlsbCBmYWlsZWQgYmVjYXVzZSBnbG9iYWwgb2JqZWN0IGlzIHVuYXZhaWxhYmxlIGluIHRoaXMgZW52aXJvbm1lbnQnKTtcbiAgICB9XG4gIH1cbiAgbG9jYWwuZmV0Y2hKc29ucCA9IGZldGNoSnNvbnA7XG4gICovXG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBmZXRjaEpzb25wO1xufSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2ZldGNoLWpzb25wL2J1aWxkL2ZldGNoLWpzb25wLmpzXG4vLyBtb2R1bGUgaWQgPSAwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _fetchJsonp = __webpack_require__(0);\n\nvar _fetchJsonp2 = _interopRequireDefault(_fetchJsonp);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getSpreadsheet(id, sheetNum) {\n  var isDoubleLabeled = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var withUpdated = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n\n  var url = 'https://spreadsheets.google.com/feeds/list/' + id + '/' + sheetNum + '/public/values?alt=json-in-script';\n  return new Promise(function (resolve, reject) {\n    (0, _fetchJsonp2.default)(url).then(function (response) {\n      return response.json();\n    }).then(function (json) {\n      if (isDoubleLabeled) {\n        var res = parseLabeledRowsCols(json.feed.entry, withUpdated);\n        resolve(res);\n      } else {\n        var _res = parseLabeledCols(json.feed.entry, withUpdated);\n        resolve(_res);\n      }\n    }).catch(function (ex) {\n      reject(ex);\n    });\n  });\n}\n\n/**\n * Parser for table where just the columns are labeled\n * @return array of objects where the labels are keys\n */\nfunction parseLabeledCols(entries, withUpdated) {\n  return entries.map(function (entry) {\n    return parseEntry(entry, withUpdated);\n  });\n}\n\n/**\n * Use for table with labels only for columns\n */\nfunction parseEntry(entry, withUpdated) {\n  var res = {};\n  Object.keys(entry).forEach(function (key) {\n    if (key.indexOf('gsx$') === 0) {\n      var label = key.substr(4);\n      res[label] = entry[key].$t;\n    }\n  });\n  if (withUpdated) {\n    res._updated = entry.updated.$t;\n  }\n  return res;\n}\n\n/**\n * Parser for table where both rows and columns are labeled\n * @return object where keys are row labels and values are objects where keys are the column labels\n */\nfunction parseLabeledRowsCols(entries, withUpdated) {\n  var res = {};\n  entries.forEach(function (entry) {\n    res[entry.title.$t] = parseLabeledRow(entry.content.$t);\n    if (withUpdated) {\n      res[entry.title.$t]._updated = entry.updated.$t;\n    }\n  });\n  return res;\n}\n\n/** \n * Use for table with labels for rows AND columns\n * Example input: \"bar: 123, baz: 122, bab: 234\"\n */\nfunction parseLabeledRow(row) {\n  var cols = row.split(', ');\n  var res = cols.reduce(function (acc, col) {\n    var pair = col.split(': ');\n    acc[pair[0]] = pair[1];\n    return acc;\n  }, {});\n  return res;\n}\n\nexports.default = getSpreadsheet;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanM/OTU1MiJdLCJuYW1lcyI6WyJnZXRTcHJlYWRzaGVldCIsImlkIiwic2hlZXROdW0iLCJpc0RvdWJsZUxhYmVsZWQiLCJ3aXRoVXBkYXRlZCIsInVybCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwidGhlbiIsInJlc3BvbnNlIiwianNvbiIsInJlcyIsInBhcnNlTGFiZWxlZFJvd3NDb2xzIiwiZmVlZCIsImVudHJ5IiwicGFyc2VMYWJlbGVkQ29scyIsImNhdGNoIiwiZXgiLCJlbnRyaWVzIiwibWFwIiwicGFyc2VFbnRyeSIsIk9iamVjdCIsImtleXMiLCJmb3JFYWNoIiwia2V5IiwiaW5kZXhPZiIsImxhYmVsIiwic3Vic3RyIiwiJHQiLCJfdXBkYXRlZCIsInVwZGF0ZWQiLCJ0aXRsZSIsInBhcnNlTGFiZWxlZFJvdyIsImNvbnRlbnQiLCJyb3ciLCJjb2xzIiwic3BsaXQiLCJyZWR1Y2UiLCJhY2MiLCJjb2wiLCJwYWlyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7Ozs7O0FBRUEsU0FBU0EsY0FBVCxDQUF3QkMsRUFBeEIsRUFBNEJDLFFBQTVCLEVBQW1GO0FBQUEsTUFBN0NDLGVBQTZDLHVFQUEzQixLQUEyQjtBQUFBLE1BQXBCQyxXQUFvQix1RUFBTixJQUFNOztBQUNqRixNQUFNQyxzREFBb0RKLEVBQXBELFNBQTBEQyxRQUExRCxzQ0FBTjtBQUNBLFNBQU8sSUFBSUksT0FBSixDQUFZLFVBQUNDLE9BQUQsRUFBVUMsTUFBVixFQUFxQjtBQUN0Qyw4QkFBV0gsR0FBWCxFQUFnQkksSUFBaEIsQ0FBcUIsVUFBU0MsUUFBVCxFQUFtQjtBQUN0QyxhQUFPQSxTQUFTQyxJQUFULEVBQVA7QUFDRCxLQUZELEVBRUdGLElBRkgsQ0FFUSxVQUFTRSxJQUFULEVBQWU7QUFDckIsVUFBSVIsZUFBSixFQUFxQjtBQUNuQixZQUFNUyxNQUFNQyxxQkFBcUJGLEtBQUtHLElBQUwsQ0FBVUMsS0FBL0IsRUFBc0NYLFdBQXRDLENBQVo7QUFDQUcsZ0JBQVFLLEdBQVI7QUFDRCxPQUhELE1BR087QUFDTCxZQUFNQSxPQUFNSSxpQkFBaUJMLEtBQUtHLElBQUwsQ0FBVUMsS0FBM0IsRUFBa0NYLFdBQWxDLENBQVo7QUFDQUcsZ0JBQVFLLElBQVI7QUFDRDtBQUNGLEtBVkQsRUFVR0ssS0FWSCxDQVVTLFVBQVNDLEVBQVQsRUFBYTtBQUNwQlYsYUFBT1UsRUFBUDtBQUNELEtBWkQ7QUFhRCxHQWRNLENBQVA7QUFlRDs7QUFFRDs7OztBQUlBLFNBQVNGLGdCQUFULENBQTBCRyxPQUExQixFQUFtQ2YsV0FBbkMsRUFBZ0Q7QUFDOUMsU0FBT2UsUUFBUUMsR0FBUixDQUFZO0FBQUEsV0FBU0MsV0FBV04sS0FBWCxFQUFrQlgsV0FBbEIsQ0FBVDtBQUFBLEdBQVosQ0FBUDtBQUNEOztBQUVEOzs7QUFHQSxTQUFTaUIsVUFBVCxDQUFvQk4sS0FBcEIsRUFBMkJYLFdBQTNCLEVBQXdDO0FBQ3RDLE1BQU1RLE1BQU0sRUFBWjtBQUNBVSxTQUFPQyxJQUFQLENBQVlSLEtBQVosRUFBbUJTLE9BQW5CLENBQTJCLGVBQU87QUFDaEMsUUFBSUMsSUFBSUMsT0FBSixDQUFZLE1BQVosTUFBd0IsQ0FBNUIsRUFBK0I7QUFDN0IsVUFBTUMsUUFBUUYsSUFBSUcsTUFBSixDQUFXLENBQVgsQ0FBZDtBQUNBaEIsVUFBSWUsS0FBSixJQUFhWixNQUFNVSxHQUFOLEVBQVdJLEVBQXhCO0FBQ0Q7QUFDRixHQUxEO0FBTUEsTUFBSXpCLFdBQUosRUFBaUI7QUFDZlEsUUFBSWtCLFFBQUosR0FBZWYsTUFBTWdCLE9BQU4sQ0FBY0YsRUFBN0I7QUFDRDtBQUNELFNBQU9qQixHQUFQO0FBQ0Q7O0FBRUQ7Ozs7QUFJQSxTQUFTQyxvQkFBVCxDQUE4Qk0sT0FBOUIsRUFBdUNmLFdBQXZDLEVBQW9EO0FBQ2xELE1BQU1RLE1BQU0sRUFBWjtBQUNBTyxVQUFRSyxPQUFSLENBQWdCLGlCQUFTO0FBQ3ZCWixRQUFJRyxNQUFNaUIsS0FBTixDQUFZSCxFQUFoQixJQUFzQkksZ0JBQWdCbEIsTUFBTW1CLE9BQU4sQ0FBY0wsRUFBOUIsQ0FBdEI7QUFDQSxRQUFJekIsV0FBSixFQUFpQjtBQUNmUSxVQUFJRyxNQUFNaUIsS0FBTixDQUFZSCxFQUFoQixFQUFvQkMsUUFBcEIsR0FBK0JmLE1BQU1nQixPQUFOLENBQWNGLEVBQTdDO0FBQ0Q7QUFDRixHQUxEO0FBTUEsU0FBT2pCLEdBQVA7QUFDRDs7QUFFRDs7OztBQUlBLFNBQVNxQixlQUFULENBQXlCRSxHQUF6QixFQUE4QjtBQUM1QixNQUFNQyxPQUFPRCxJQUFJRSxLQUFKLENBQVUsSUFBVixDQUFiO0FBQ0EsTUFBTXpCLE1BQU13QixLQUFLRSxNQUFMLENBQVksVUFBQ0MsR0FBRCxFQUFNQyxHQUFOLEVBQWM7QUFDcEMsUUFBTUMsT0FBT0QsSUFBSUgsS0FBSixDQUFVLElBQVYsQ0FBYjtBQUNBRSxRQUFJRSxLQUFLLENBQUwsQ0FBSixJQUFlQSxLQUFLLENBQUwsQ0FBZjtBQUNBLFdBQU9GLEdBQVA7QUFDRCxHQUpXLEVBSVQsRUFKUyxDQUFaO0FBS0EsU0FBTzNCLEdBQVA7QUFDRDs7a0JBRWNaLGMiLCJmaWxlIjoiMS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBmZXRjaEpzb25wIGZyb20gJ2ZldGNoLWpzb25wJztcblxuZnVuY3Rpb24gZ2V0U3ByZWFkc2hlZXQoaWQsIHNoZWV0TnVtLCBpc0RvdWJsZUxhYmVsZWQgPSBmYWxzZSwgd2l0aFVwZGF0ZWQgPSB0cnVlKSB7XG4gIGNvbnN0IHVybCA9IGBodHRwczovL3NwcmVhZHNoZWV0cy5nb29nbGUuY29tL2ZlZWRzL2xpc3QvJHtpZH0vJHtzaGVldE51bX0vcHVibGljL3ZhbHVlcz9hbHQ9anNvbi1pbi1zY3JpcHRgOyAgXG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgZmV0Y2hKc29ucCh1cmwpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKClcbiAgICB9KS50aGVuKGZ1bmN0aW9uKGpzb24pIHtcbiAgICAgIGlmIChpc0RvdWJsZUxhYmVsZWQpIHtcbiAgICAgICAgY29uc3QgcmVzID0gcGFyc2VMYWJlbGVkUm93c0NvbHMoanNvbi5mZWVkLmVudHJ5LCB3aXRoVXBkYXRlZCk7XG4gICAgICAgIHJlc29sdmUocmVzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHJlcyA9IHBhcnNlTGFiZWxlZENvbHMoanNvbi5mZWVkLmVudHJ5LCB3aXRoVXBkYXRlZCk7XG4gICAgICAgIHJlc29sdmUocmVzKTtcbiAgICAgIH1cbiAgICB9KS5jYXRjaChmdW5jdGlvbihleCkge1xuICAgICAgcmVqZWN0KGV4KVxuICAgIH0pXG4gIH0pXG59XG5cbi8qKlxuICogUGFyc2VyIGZvciB0YWJsZSB3aGVyZSBqdXN0IHRoZSBjb2x1bW5zIGFyZSBsYWJlbGVkXG4gKiBAcmV0dXJuIGFycmF5IG9mIG9iamVjdHMgd2hlcmUgdGhlIGxhYmVscyBhcmUga2V5c1xuICovXG5mdW5jdGlvbiBwYXJzZUxhYmVsZWRDb2xzKGVudHJpZXMsIHdpdGhVcGRhdGVkKSB7XG4gIHJldHVybiBlbnRyaWVzLm1hcChlbnRyeSA9PiBwYXJzZUVudHJ5KGVudHJ5LCB3aXRoVXBkYXRlZCkpO1xufVxuICBcbi8qKlxuICogVXNlIGZvciB0YWJsZSB3aXRoIGxhYmVscyBvbmx5IGZvciBjb2x1bW5zXG4gKi9cbmZ1bmN0aW9uIHBhcnNlRW50cnkoZW50cnksIHdpdGhVcGRhdGVkKSB7XG4gIGNvbnN0IHJlcyA9IHt9O1xuICBPYmplY3Qua2V5cyhlbnRyeSkuZm9yRWFjaChrZXkgPT4ge1xuICAgIGlmIChrZXkuaW5kZXhPZignZ3N4JCcpID09PSAwKSB7XG4gICAgICBjb25zdCBsYWJlbCA9IGtleS5zdWJzdHIoNCk7XG4gICAgICByZXNbbGFiZWxdID0gZW50cnlba2V5XS4kdDtcbiAgICB9XG4gIH0pO1xuICBpZiAod2l0aFVwZGF0ZWQpIHtcbiAgICByZXMuX3VwZGF0ZWQgPSBlbnRyeS51cGRhdGVkLiR0O1xuICB9XG4gIHJldHVybiByZXM7XG59XG5cbi8qKlxuICogUGFyc2VyIGZvciB0YWJsZSB3aGVyZSBib3RoIHJvd3MgYW5kIGNvbHVtbnMgYXJlIGxhYmVsZWRcbiAqIEByZXR1cm4gb2JqZWN0IHdoZXJlIGtleXMgYXJlIHJvdyBsYWJlbHMgYW5kIHZhbHVlcyBhcmUgb2JqZWN0cyB3aGVyZSBrZXlzIGFyZSB0aGUgY29sdW1uIGxhYmVsc1xuICovXG5mdW5jdGlvbiBwYXJzZUxhYmVsZWRSb3dzQ29scyhlbnRyaWVzLCB3aXRoVXBkYXRlZCkge1xuICBjb25zdCByZXMgPSB7fTtcbiAgZW50cmllcy5mb3JFYWNoKGVudHJ5ID0+IHtcbiAgICByZXNbZW50cnkudGl0bGUuJHRdID0gcGFyc2VMYWJlbGVkUm93KGVudHJ5LmNvbnRlbnQuJHQpXG4gICAgaWYgKHdpdGhVcGRhdGVkKSB7XG4gICAgICByZXNbZW50cnkudGl0bGUuJHRdLl91cGRhdGVkID0gZW50cnkudXBkYXRlZC4kdDtcbiAgICB9XG4gIH0pXG4gIHJldHVybiByZXM7XG59XG5cbi8qKiBcbiAqIFVzZSBmb3IgdGFibGUgd2l0aCBsYWJlbHMgZm9yIHJvd3MgQU5EIGNvbHVtbnNcbiAqIEV4YW1wbGUgaW5wdXQ6IFwiYmFyOiAxMjMsIGJhejogMTIyLCBiYWI6IDIzNFwiXG4gKi9cbmZ1bmN0aW9uIHBhcnNlTGFiZWxlZFJvdyhyb3cpIHtcbiAgY29uc3QgY29scyA9IHJvdy5zcGxpdCgnLCAnKTtcbiAgY29uc3QgcmVzID0gY29scy5yZWR1Y2UoKGFjYywgY29sKSA9PiB7XG4gICAgY29uc3QgcGFpciA9IGNvbC5zcGxpdCgnOiAnKTtcbiAgICBhY2NbcGFpclswXV0gPSBwYWlyWzFdO1xuICAgIHJldHVybiBhY2M7XG4gIH0sIHt9KTtcbiAgcmV0dXJuIHJlcztcbn1cblxuZXhwb3J0IGRlZmF1bHQgZ2V0U3ByZWFkc2hlZXQ7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2luZGV4LmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///1\n")}])});